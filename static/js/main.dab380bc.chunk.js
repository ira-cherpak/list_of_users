(this.webpackJsonplist_of_users=this.webpackJsonplist_of_users||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(1),c=n(8),r=n.n(c),i=n(9),a=n(3),o=n(5),m=(n(14),n(15),function(){return fetch("".concat("https://swapi.dev/api/people/")).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){return e.results}))}),u=(n(16),n(0)),l=function(e){var t=e.userId,n=e.addComment,c=Object(s.useState)(""),r=Object(o.a)(c,2),i=r[0],a=r[1],m=Object(s.useState)(!1),l=Object(o.a)(m,2),j=l[0],d=l[1];return Object(u.jsxs)("form",{className:"CommentForm",onSubmit:function(e){e.preventDefault(),i.trim()?(n(i,t),a("")):d(!0)},children:[j&&Object(u.jsx)("p",{className:"CommentForm__error",children:"Fill out the filds "}),Object(u.jsx)("div",{children:Object(u.jsx)("textarea",{name:"body",placeholder:"Type comment here",className:"CommentForm__input",value:i,onChange:function(e){a(e.target.value),d(!1)}})}),Object(u.jsx)("button",{type:"submit",className:"CommentForm__submit-button button",children:"Add a comment"})]})},j=n(2),d=n.n(j),b=d.a.arrayOf(d.a.shape({id:d.a.number.isRequired,body:d.a.string.isRequired}).isRequired),f=(d.a.shape({url:d.a.string.isRequired,name:d.a.string.isRequired,birth_year:d.a.string.isRequired,comments:b.isRequired}),n(20),function(e){var t=e.person,n=e.deleteComment;return Object(u.jsx)("ul",{className:"CommentDetails__list",children:t.comments.map((function(e){return Object(u.jsxs)("li",{className:"CommentDetails__list-item",children:[Object(u.jsx)("button",{type:"button",className:"CommentDetails__remove-button button",onClick:function(){return n(t.url,e.id)},children:"X"}),Object(u.jsx)("p",{children:e.body})]},e.id)}))})}),h=(n(21),function(e){var t=e.people,n=e.addComment,s=e.deleteComment;return Object(u.jsxs)("div",{className:"UsersList",children:[Object(u.jsx)("h2",{children:"Users:"}),Object(u.jsx)("ul",{className:"UsersList__list",children:t.map((function(e){var t=e.url,c=e.name,r=e.birth_year,i=e.comments;return Object(u.jsxs)("li",{className:"UsersList__item",children:[Object(u.jsxs)("div",{className:"UsersList__title",children:[Object(u.jsx)("h3",{children:c}),Object(u.jsxs)("p",{children:["(",r," ","year of birth)"]})]}),Object(u.jsxs)("div",{className:"UsersList__content",children:[Object(u.jsx)("h3",{children:"Leave comment"}),Object(u.jsx)(l,{userId:t,addComment:n}),i.length>0&&Object(u.jsxs)("div",{className:"CommentDetails",children:[Object(u.jsx)("h3",{children:"Comments:"}),Object(u.jsx)(f,{person:e,deleteComment:s})]})]})]},t)}))})]})}),O=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1];Object(s.useEffect)((function(){localStorage.people?c(JSON.parse(localStorage.getItem("people"))):m().then((function(e){var t=e.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{comments:[]})}));c(t)}))}),[]),Object(s.useEffect)((function(){localStorage.setItem("people",JSON.stringify(n))}),[n]);return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)("main",{className:"App__main",children:Object(u.jsx)(h,{people:n,addComment:function(e,t){var n={userId:t,id:+new Date,body:e};c((function(e){return e.map((function(e){return e.url===t?Object(a.a)(Object(a.a)({},e),{},{comments:[].concat(Object(i.a)(e.comments),[n])}):e}))}))},deleteComment:function(e,t){c((function(n){return n.map((function(n){if(n.url===e){var s=n.comments.filter((function(e){return e.id!==t}));return Object(a.a)(Object(a.a)({},n),{},{comments:s})}return n}))}))}})})})};r.a.render(Object(u.jsx)(O,{}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.dab380bc.chunk.js.map